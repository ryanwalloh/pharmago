# Pharmago - Medicine Delivery Platform

A full-stack medicine delivery platform built with Django backend, React frontend, and PostgreSQL database, all containerized with Docker. Think of it as "Foodpanda for Medicine" - connecting customers with pharmacies through rider delivery services.

## 🏥 Platform Overview

**Pharmago** is a comprehensive medicine delivery system that includes:
- **Customers**: Order medicines online from nearby pharmacies
- **Pharmacies**: Manage inventory and fulfill orders
- **Riders**: Deliver medicines to customers
- **Admin**: Oversee the entire platform operations

## 🚀 Quick Start

### Prerequisites
- [Docker](https://docs.docker.com/get-docker/) (version 20.10 or higher)
- [Docker Compose](https://docs.docker.com/compose/install/) (usually comes with Docker Desktop)
- Git

### 1. Clone the Repository
```bash
git clone <your-repository-url>
cd pharmago
```

### 2. Build and Start All Services
```bash
docker-compose up --build
```

This command will:
- Build Docker images for backend and frontend
- Start PostgreSQL database
- Start Django backend API
- Start React frontend
- Start pgAdmin (optional database management tool)

### 3. Create Your Django Admin User
**Important**: Each developer needs to create their own admin account!

```bash
docker-compose exec backend python manage.py createsuperuser
```

Follow the prompts to create:
- **Username**: Choose your preferred username
- **Email**: Enter your email address
- **Password**: Create a strong password (you'll type it twice)

**Note**: This creates an admin user only for your local machine. Your partner will need to create their own admin account when they set up the project.

### 4. Access Your Application
Once all services are running, you can access:

- **Frontend**: http://localhost:3000
- **Backend API**: http://localhost:8000
- **Django Admin**: http://localhost:8000/admin (use your superuser credentials)
- **pgAdmin**: http://localhost:5050 (admin@local.dev / admin123)
- **Database**: localhost:5432

## 🔐 User Management

### Django Admin Access
- **Each developer creates their own superuser account**
- **Credentials are NOT shared between machines**
- **Your admin account only exists in your local database**

### Creating Admin Users
```bash
# Create your own superuser (run this after starting containers)
docker-compose exec backend python manage.py createsuperuser

# Example output:
# Username: your_username
# Email: your_email@example.com
# Password: ********
# Password (again): ********
# Superuser created successfully.
```

### Why Separate Accounts?
- **Security**: Each developer has isolated admin access
- **No Conflicts**: Different development environments don't interfere
- **Flexibility**: Customize your local setup independently

## 🛠️ Development Commands

### View Running Services
```bash
docker-compose ps
```

### View Logs
```bash
# All services
docker-compose logs

# Specific service
docker-compose logs backend
docker-compose logs web
```

### Stop All Services
```bash
docker-compose down
```

### Restart a Specific Service
```bash
docker-compose restart web
docker-compose restart backend
```

### Access Container Shell
```bash
# Frontend container
docker-compose exec web bash

# Backend container
docker-compose exec backend bash
```

## Project Structure

```
This is not Final, just a prototype
pharmago/
├── backend/                 # Django backend API
│   ├── api/                # Django app with models for:
│   │   ├── customers/      # Customer management
│   │   ├── pharmacies/     # Pharmacy profiles & inventory
│   │   ├── medicines/      # Medicine catalog
│   │   ├── orders/         # Order processing
│   │   ├── riders/         # Rider management
│   │   └── admin/          # Admin dashboard
│   ├── manage.py           # Django management
│   └── Dockerfile          # Backend container
├── web-frontend/           # React frontend
│   ├── src/                # React source code
│   │   ├── components/     # Reusable UI components
│   │   ├── pages/          # Page components
│   │   ├── services/       # API integration
│   │   └── utils/          # Helper functions
│   ├── package.json        # Node.js dependencies
│   └── Dockerfile          # Frontend container
├── mobileapp/              # Future mobile app
├── docker-compose.yml       # Service orchestration
└── README.md               # This file
```

## 🔧 Common Issues & Solutions

### Port Already in Use
If you get port conflicts, you can modify the ports in `docker-compose.yml`:
```yaml
ports:
  - "3001:3000"  # Change 3001 to any available port
```

### Container Won't Start
```bash
# Check logs for errors
docker-compose logs [service-name]

# Rebuild containers
docker-compose down
docker-compose up --build
```

### Database Connection Issues
- Ensure PostgreSQL container is running: `docker-compose ps`
- Check backend logs: `docker-compose logs backend`
- Verify database credentials in `backend/.env`

### Frontend Not Loading
- Check if web container is running: `docker-compose ps`
- View web logs: `docker-compose logs web`
- Ensure port 3000 is not blocked by firewall

### Django Admin Not Working
- Ensure you've created a superuser: `docker-compose exec backend python manage.py createsuperuser`
- Check backend is running: `docker-compose ps`
- Verify you're using the correct credentials

## 🚀 Adding New Features

### Frontend (React)
```bash
# Access web container
docker-compose exec web bash

# Install new packages
npm install package-name

# The container will auto-reload changes
```

### Backend (Django)
```bash
# Access backend container
docker-compose exec backend bash

# Run Django commands
#Run the 
python manage.py makemigrations
python manage.py migrate
python manage.py createsuperuser
```

## 📝 Environment Variables

### Backend (.env file)
Create a `backend/.env` file with:
```env
DEBUG=True
SECRET_KEY=your-secret-key
DATABASE_URL=postgresql://superpharmago:pharmagoldenkey@postgres:5432/pharmago
```

### Frontend
Frontend environment variables are set in `docker-compose.yml` and will automatically use the backend API.

## 🧪 Testing

### Run Tests
```bash
# Backend tests
docker-compose exec backend python manage.py test

# Frontend tests
docker-compose exec web npm test
```

## 📦 Deployment

### Production Build
```bash
# Build production images
docker-compose -f docker-compose.prod.yml up --build
```

## 🤝 Contributing

1. Create a feature branch: `git checkout -b feature-name`
2. Make your changes
3. Commit: `git commit -m "Add feature description"`
4. Push: `git push origin feature-name`
5. Create a pull request

## 🏥 Business Logic Notes

### Order Flow
1. Customer browses medicines and places order
2. System assigns order to nearest available pharmacy
3. Pharmacy confirms order and prepares medicines
4. System assigns rider for delivery
5. Rider picks up and delivers to customer
6. Order completion and rating system

### Key Models
- **User**: Base user model with role-based permissions
- **Pharmacy**: Location, inventory, operating hours
- **Medicine**: Name, description, price, stock, pharmacy
- **Order**: Customer, pharmacy, medicines, status, delivery
- **Rider**: Location, availability, current orders

## 📞 Support

If you encounter issues:
1. Check the logs: `docker-compose logs [service-name]`
2. Ensure Docker is running
3. Verify all ports are available
4. Check the troubleshooting section above
5. **For Django Admin issues**: Ensure you've created a superuser account

## 📚 Useful Links

- [Docker Documentation](https://docs.docker.com/)
- [Django Documentation](https://docs.djangoproject.com/)
- [React Documentation](https://reactjs.org/docs/)
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)

---

**Building the future of medicine delivery! 💊**
